"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9796],{9796:($,x,e)=>{e.r(x),e.d(x,{ProductsPageModule:()=>E});var d,w=e(177),g=e(4341),c=e(4742),u=e(6549),o=e(4438),f=e(2152),B=e(1790),L=e(2572),z=function(a,t){var s=function(){if(typeof window>"u")return new Map;if(!d){var a=window;a.Ionicons=a.Ionicons||{},d=a.Ionicons.map=a.Ionicons.map||new Map}return d}(),i=s.get(a);void 0===i?s.set(a,t):i!==t&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(a,'". Ensure that multiple icons are not mapped to the same icon name.'))},y=e(7673),r=e(5862),S=e(1369),j=e(7423);function O(a,t){if(1&a){const s=o.RV6();o.j41(0,"ion-button",8),o.bIt("click",function(){o.eBV(s);const n=o.XpG();return o.Njj(n.clearFilters())}),o.EFF(1," Clear Filters "),o.k0s()}}function b(a,t){if(1&a&&(o.j41(0,"ion-select-option",26),o.EFF(1),o.k0s()),2&a){const s=t.$implicit;o.Y8G("value",s.value),o.R7$(),o.JRh(s.label)}}function _(a,t){if(1&a&&(o.j41(0,"ion-select-option",26),o.EFF(1),o.k0s()),2&a){const s=t.$implicit;o.Y8G("value",s.value),o.R7$(),o.JRh(s.label)}}function q(a,t){if(1&a){const s=o.RV6();o.j41(0,"label",27)(1,"input",28,1),o.bIt("change",function(){const n=o.eBV(s).$implicit,l=o.sdS(2),v=o.XpG(3);return o.Njj(v.handleCheckField(l.checked,n.value,"brands"))}),o.k0s(),o.j41(3,"ion-label"),o.EFF(4),o.k0s()()}if(2&a){const s=t.$implicit,i=o.XpG(3);o.BMQ("aria-label","Filter by brand "+s.label),o.R7$(),o.Y8G("checked",i.isChecked(i.filters.brands,s.value)),o.R7$(3),o.JRh(s.label)}}function F(a,t){if(1&a&&(o.j41(0,"div",14)(1,"ion-label",15),o.EFF(2,"Brands"),o.k0s(),o.j41(3,"ion-row",21),o.DNE(4,q,5,3,"label",22),o.k0s()()),2&a){const s=t.ngIf;o.R7$(4),o.Y8G("ngForOf",s.brands)}}function P(a,t){if(1&a){const s=o.RV6();o.j41(0,"label",27)(1,"input",28,2),o.bIt("change",function(){const n=o.eBV(s).$implicit,l=o.sdS(2),v=o.XpG(2);return o.Njj(v.handleCheckField(l.checked,n.value,"strains"))}),o.k0s(),o.j41(3,"ion-label"),o.EFF(4),o.k0s()()}if(2&a){const s=t.$implicit,i=o.XpG(2);o.BMQ("aria-label","Filter by strain "+s.label),o.R7$(),o.Y8G("checked",i.isChecked(i.filters.strains,s.value)),o.R7$(3),o.JRh(s.label)}}function D(a,t){if(1&a){const s=o.RV6();o.j41(0,"label",27)(1,"input",28,3),o.bIt("change",function(){const n=o.eBV(s).$implicit,l=o.sdS(2),v=o.XpG(3);return o.Njj(v.handleCheckField(l.checked,n.value,"weights"))}),o.k0s(),o.j41(3,"ion-label"),o.EFF(4),o.k0s()()}if(2&a){const s=t.$implicit,i=o.XpG(3);o.BMQ("aria-label","Filter by weight "+s.label),o.R7$(),o.Y8G("checked",i.isChecked(i.filters.weights,s.value)),o.R7$(3),o.JRh(s.label)}}function R(a,t){if(1&a&&(o.j41(0,"div",14)(1,"ion-label",15),o.EFF(2,"Weights"),o.k0s(),o.j41(3,"ion-row",21),o.DNE(4,D,5,3,"label",22),o.k0s()()),2&a){const s=t.ngIf;o.R7$(4),o.Y8G("ngForOf",s.weights)}}function T(a,t){if(1&a){const s=o.RV6();o.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title",9),o.EFF(3,"Sort + Filter Options"),o.k0s(),o.j41(4,"ion-buttons",10)(5,"ion-button",11),o.bIt("click",function(){o.eBV(s);const n=o.XpG();return o.Njj(n.setOpen(!1))}),o.nrm(6,"ion-icon",12),o.k0s()()()(),o.j41(7,"div",13)(8,"div",14)(9,"ion-label",15),o.EFF(10,"Sort"),o.k0s(),o.j41(11,"ion-row",16)(12,"ion-select",17),o.mxI("ngModelChange",function(n){o.eBV(s);const l=o.XpG();return o.DH7(l.filters.sortMethod.criterion,n)||(l.filters.sortMethod.criterion=n),o.Njj(n)}),o.bIt("ionChange",function(){o.eBV(s);const n=o.XpG();return o.Njj(n.handleFilterUpdate())}),o.DNE(13,b,2,2,"ion-select-option",18),o.k0s(),o.j41(14,"ion-select",19),o.mxI("ngModelChange",function(n){o.eBV(s);const l=o.XpG();return o.DH7(l.filters.sortMethod.direction,n)||(l.filters.sortMethod.direction=n),o.Njj(n)}),o.bIt("ionChange",function(){o.eBV(s);const n=o.XpG();return o.Njj(n.handleFilterUpdate())}),o.DNE(15,_,2,2,"ion-select-option",18),o.k0s()()(),o.DNE(16,F,5,1,"div",20),o.nI1(17,"async"),o.j41(18,"div",14)(19,"ion-label",15),o.EFF(20,"Strains"),o.k0s(),o.j41(21,"ion-row",21),o.DNE(22,P,5,3,"label",22),o.k0s()(),o.DNE(23,R,5,1,"div",20),o.nI1(24,"async"),o.j41(25,"div",14)(26,"ion-label",15),o.EFF(27,"Potency"),o.k0s(),o.j41(28,"ion-row",23)(29,"h5",24),o.EFF(30,"THC %"),o.k0s(),o.j41(31,"ion-range",25,0),o.mxI("ngModelChange",function(n){o.eBV(s);const l=o.XpG();return o.DH7(l.filters.potency.thc,n)||(l.filters.potency.thc=n),o.Njj(n)}),o.bIt("ionChange",function(){o.eBV(s);const n=o.XpG();return o.Njj(n.handleFilterUpdate())}),o.k0s()()()()}if(2&a){const s=o.XpG();o.R7$(12),o.R50("ngModel",s.filters.sortMethod.criterion),o.R7$(),o.Y8G("ngForOf",s.criteriaOptions),o.R7$(),o.R50("ngModel",s.filters.sortMethod.direction),o.R7$(),o.Y8G("ngForOf",s.directionOptions),o.R7$(),o.Y8G("ngIf",o.bMT(17,11,s.dynamicFilterOptions$)),o.R7$(6),o.Y8G("ngForOf",s.strainOptions),o.R7$(),o.Y8G("ngIf",o.bMT(24,13,s.dynamicFilterOptions$)),o.R7$(8),o.Y8G("dualKnobs",!0)("pin",!0)("value",s.filters.potency.thc),o.R50("ngModel",s.filters.potency.thc)}}let U=(()=>{var a;class t{constructor(i,n){this.productService=i,this.accessibilityService=n,this.isModalOpen=!1,this.filters=JSON.parse(JSON.stringify(r.Kr)),this.hasDirtyFilters=!1,this.criteriaOptions=r.LC,this.directionOptions=r.UJ,this.strainOptions=r.CW,this.dynamicFilterOptions$=(0,y.of)({brands:[],weights:[]}),function(a){Object.keys(a).forEach(function(t){z(t,a[t]);var s=t.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();t!==s&&z(s,a[t])})}({close:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>"})}ngOnInit(){this.productService.products$.subscribe(()=>{this.dynamicFilterOptions$=this.productService.getProductFilterOptions()})}setOpen(i){this.isModalOpen=i,this.accessibilityService.announce(`Sort and filter options ${i?"opened":"closed"}.`,"polite")}handleFilterUpdate(){this.hasDirtyFilters=JSON.stringify(this.filters)!==JSON.stringify(r.Kr),this.productService.updateProductFilters(this.filters),this.accessibilityService.announce("Filters have been updated.","polite")}clearFilters(){this.filters=JSON.parse(JSON.stringify(r.Kr)),this.handleFilterUpdate(),this.accessibilityService.announce("All filters have been cleared.","polite")}isChecked(i,n){return i.includes(n)}isStrain(i){return["HYBRID","SATIVA","INDICA"].includes(i)}handleCheckField(i,n,l){if(!i)return this.filters[l]=this.filters[l].filter(v=>v!==n),this.accessibilityService.announce(`${n} filter removed.`,"polite"),void this.handleFilterUpdate();this.isChecked(this.filters[l],n)||("strains"===l?this.isStrain(n)&&this.filters[l].push(n):this.filters[l].push(n),this.accessibilityService.announce(`${n} filter applied.`,"polite")),this.handleFilterUpdate()}}return(a=t).\u0275fac=function(i){return new(i||a)(o.rXU(S.g),o.rXU(j.s))},a.\u0275cmp=o.VBU({type:a,selectors:[["app-product-filters"]],decls:6,vars:2,consts:[["potencyInput",""],["brandInput",""],["strainInput",""],["weightInput",""],[1,"button-container"],["aria-label","Open sort and filter options",3,"click"],["fill","clear","aria-label","Clear all applied filters",3,"click",4,"ngIf"],["aria-labelledby","sort-filter-title",3,"ionModalDidDismiss","isOpen"],["fill","clear","aria-label","Clear all applied filters",3,"click"],["id","sort-filter-title"],["slot","end"],["aria-label","Close sort and filter options",3,"click"],["slot","icon-only","name","close","aria-hidden","true"],[1,"filters-container"],[1,"section"],[1,"section-title"],[1,"select-container"],["label","Sort by","label-placement","floating","fill","outline","interface","popover","aria-label","Sort products by criteria",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["label","Sort direction","label-placement","floating","fill","outline","interface","popover","aria-label","Select sorting direction",3,"ngModelChange","ionChange","ngModel"],["class","section",4,"ngIf"],[1,"checkbox-container"],["class","checkbox-wrapper",4,"ngFor","ngForOf"],[1,"range-container"],[1,"range-label"],["aria-label","Adjust THC potency range",3,"ngModelChange","ionChange","dualKnobs","pin","value","ngModel"],[3,"value"],[1,"checkbox-wrapper"],["type","checkbox",3,"change","checked"]],template:function(i,n){1&i&&(o.j41(0,"div",4)(1,"ion-button",5),o.bIt("click",function(){return n.setOpen(!0)}),o.EFF(2,"Sort + Filter"),o.k0s(),o.DNE(3,O,2,0,"ion-button",6),o.k0s(),o.j41(4,"ion-modal",7),o.bIt("ionModalDidDismiss",function(){return n.setOpen(!1)}),o.DNE(5,T,33,15,"ng-template"),o.k0s()),2&i&&(o.R7$(3),o.Y8G("ngIf",n.hasDirtyFilters),o.R7$(),o.Y8G("isOpen",n.isModalOpen))},dependencies:[w.Sq,w.bT,c.Jm,c.QW,c.eU,c.iq,c.he,c.Ob,c.ln,c.Nm,c.Ip,c.BC,c.ai,c.Sb,c.su,c.Je,g.BC,g.vS,w.Jj],styles:[".button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:12px 0;padding:0 16px}.button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;text-transform:capitalize}.filters-container[_ngcontent-%COMP%]{height:100%;padding:12px 16px 0;display:flex;flex-direction:column;gap:24px;overflow:auto}.section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.select-container[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;gap:24px}.select-container[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--border-width: 1px;--highlight-color-focused: var(--ion-color-dark);--highlight-color-valid: var(--ion-color-dark);--highlight-color-invalid: var(--ion-color-danger)}.checkbox-container[_ngcontent-%COMP%]{gap:12px}.checkbox-container[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;cursor:pointer;font-size:14px}.checkbox-container[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}.checkbox-container[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:12px 16px;border-radius:4px;border:1px solid var(--ion-color-dark);color:var(--ion-color-dark);background-color:#fff;text-align:center;transition:.15s ease-in}.checkbox-container[_ngcontent-%COMP%]   .checkbox-wrapper[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + ion-label[_ngcontent-%COMP%]{color:#fff;background-color:var(--ion-color-primary);border-color:var(--ion-color-primary);transition:.15s ease-in}.range-container[_ngcontent-%COMP%]{flex-direction:column;gap:0px}.range-container[_ngcontent-%COMP%]   .range-label[_ngcontent-%COMP%]{margin:0}.range-container[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]{width:80%;padding:0;margin:auto;--bar-background: var(--ion-color-dark);--bar-background-active: var(--ion-color-dark);--knob-background: var(--ion-color-dark);--pin-background: var(--ion-color-dark);--pin-color: var(--ion-color-dark-contrast)}"]}),t})();const I=[{path:"",component:(()=>{var a;class t{constructor(){this.searchQuery=""}ngOnInit(){}ionViewDidEnter(){this.scrollToTop()}scrollToTop(){this.content?this.content.scrollToTop(300):console.warn("IonContent is not available.")}onSearch(i){this.searchQuery=i.target.value.trim().toLowerCase()}}return(a=t).\u0275fac=function(i){return new(i||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["app-products"]],viewQuery:function(i,n){if(1&i&&o.GBs(c.W9,5),2&i){let l;o.mGM(l=o.lsd())&&(n.content=l.first)}},decls:6,vars:2,consts:[["aria-label","Product browsing page"],["aria-label","Website header with navigation"],["placeholder","Search products...","debounce","300","showClearButton","always","animated","","aria-label","Search products",3,"ngModelChange","ionInput","ngModel"],["aria-label","Product categories section"],["aria-label","Product filtering options"],["aria-label","Product list section",3,"searchQuery"]],template:function(i,n){1&i&&(o.j41(0,"ion-content",0),o.nrm(1,"app-header",1),o.j41(2,"ion-searchbar",2),o.mxI("ngModelChange",function(v){return o.DH7(n.searchQuery,v)||(n.searchQuery=v),v}),o.bIt("ionInput",function(v){return n.onSearch(v)}),o.k0s(),o.nrm(3,"app-product-categories",3)(4,"app-product-filters",4)(5,"app-product-list",5),o.k0s()),2&i&&(o.R7$(2),o.R50("ngModel",n.searchQuery),o.R7$(3),o.Y8G("searchQuery",n.searchQuery))},dependencies:[g.BC,g.vS,c.W9,c.S1,c.Gw,f.l,B.t,L.r,U],styles:["ion-searchbar[_ngcontent-%COMP%]{--border-radius: 10px;--color: #333;--placeholder-color: #999;--icon-color: #666;--clear-button-color: #ff3b30;width:100%}"]}),t})()}];let N=(()=>{var a;class t{}return(a=t).\u0275fac=function(i){return new(i||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({imports:[u.iI.forChild(I),u.iI]}),t})();var G=e(3887);let E=(()=>{var a;class t{}return(a=t).\u0275fac=function(i){return new(i||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({imports:[w.MD,g.YN,c.bv,N,G.G]}),t})()}}]);