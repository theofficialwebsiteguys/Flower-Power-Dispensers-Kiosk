"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7383],{7383:(ae,P,d)=>{d.r(P),d.d(P,{RewardsPageModule:()=>re});var p=d(177),g=d(4341),l=d(4742),u=d(6549),e=d(4438),h=d(671),M=d(2152),x=d(1544),F=d(3117),y=d(600);function w(o,r){if(1&o){const i=e.RV6();e.j41(0,"button",9),e.bIt("click",function(){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onClearSearch())}),e.EFF(1,"Clear"),e.k0s()}}function k(o,r){if(1&o){const i=e.RV6();e.j41(0,"div",5)(1,"input",6),e.mxI("ngModelChange",function(t){e.eBV(i);const s=e.XpG();return e.DH7(s.searchQuery,t)||(s.searchQuery=t),e.Njj(t)}),e.bIt("keyup.enter",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onSearch())}),e.k0s(),e.j41(2,"button",7),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.onSearch())}),e.EFF(3,"Search"),e.k0s(),e.DNE(4,w,2,0,"button",8),e.k0s()}if(2&o){const i=e.XpG();e.R7$(),e.R50("ngModel",i.searchQuery),e.R7$(3),e.Y8G("ngIf",i.selectedUser)}}function E(o,r){if(1&o){const i=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.toggleSignup())}),e.EFF(1),e.k0s()}if(2&o){const i=e.XpG();e.R7$(),e.SpI(" ",i.showSignup?"Cancel":"New User"," ")}}function I(o,r){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const i=r.$implicit;e.R7$(),e.JRh(i)}}function R(o,r){if(1&o&&(e.j41(0,"div",11)(1,"div",12)(2,"h2"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s()(),e.j41(6,"div",13)(7,"div",14)(8,"strong"),e.EFF(9,"Email:"),e.k0s(),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"div",14)(13,"strong"),e.EFF(14,"Phone:"),e.k0s(),e.j41(15,"span"),e.EFF(16),e.k0s()(),e.j41(17,"div",14)(18,"strong"),e.EFF(19,"Country:"),e.k0s(),e.j41(20,"span"),e.EFF(21),e.k0s()(),e.j41(22,"div",14)(23,"strong"),e.EFF(24,"Date of Birth:"),e.k0s(),e.j41(25,"span"),e.EFF(26),e.nI1(27,"date"),e.k0s()(),e.j41(28,"div",14)(29,"strong"),e.EFF(30,"Account Created:"),e.k0s(),e.j41(31,"span"),e.EFF(32),e.nI1(33,"date"),e.k0s()(),e.j41(34,"div",14)(35,"strong"),e.EFF(36,"Alleaves ID:"),e.k0s(),e.j41(37,"span"),e.EFF(38),e.k0s()(),e.j41(39,"div",14)(40,"strong"),e.EFF(41,"Points:"),e.k0s(),e.j41(42,"span",15),e.EFF(43),e.k0s()()(),e.j41(44,"div",16),e.nrm(45,"div",17),e.k0s(),e.j41(46,"div",18),e.DNE(47,I,2,1,"span",19),e.k0s()()),2&o){const i=e.XpG();e.R7$(3),e.Lme("",i.selectedUser.fname," ",i.selectedUser.lname,""),e.R7$(2),e.SpI("User ID: ",i.selectedUser.id,""),e.R7$(6),e.JRh(i.selectedUser.email),e.R7$(5),e.JRh(i.selectedUser.phone),e.R7$(5),e.JRh(i.selectedUser.country),e.R7$(5),e.JRh(e.i5U(27,14,i.selectedUser.dob,"longDate")),e.R7$(6),e.JRh(e.i5U(33,17,i.selectedUser.createdAt,"longDate")),e.R7$(6),e.JRh(i.selectedUser.alleaves_customer_id),e.R7$(5),e.SpI("",i.selectedUser.points," pts"),e.R7$(2),e.xc7("width",i.progressPercentage,"%"),e.BMQ("aria-valuenow",i.progressPercentage),e.R7$(2),e.Y8G("ngForOf",i.progressSteps)}}function j(o,r){1&o&&(e.j41(0,"div",20),e.nrm(1,"app-register",21),e.k0s()),2&o&&(e.R7$(),e.Y8G("isCustomer",!0))}let U=(()=>{var o;class r{constructor(n,t){this.employeeService=n,this.authService=t,this.searchQuery="",this.selectedUser=null,this.maxPoints=1e3,this.showSignup=!1,this.loggedInUser=null}ngOnInit(){this.getLoggedInUser()}getLoggedInUser(){this.authService.getUserInfo().subscribe(n=>{this.loggedInUser=n})}get progressPercentage(){return this.selectedUser?this.selectedUser.points/this.maxPoints*100:0}get progressSteps(){return[0,250,500,750,this.maxPoints]}onSearch(){const n=this.searchQuery.trim();n.length>0?this.isEmail(n)?this.employeeService.getUserByEmail(n).subscribe(t=>{this.selectedUser=t||null,this.employeeService.setSelectedUser(t),this.authService.getUserOrders(t.id).then(()=>{console.log("Orders refreshed.")})},t=>{console.error("Error fetching user by email:",t),this.selectedUser=null}):this.isPhone(n)?this.employeeService.getUserByPhone(n).subscribe(t=>{this.selectedUser=t||null,this.employeeService.setSelectedUser(t),this.authService.getUserOrders(t.id).then(()=>{console.log("Orders refreshed.")})},t=>{console.error("Error fetching user by phone:",t),this.selectedUser=null}):(console.warn("Invalid search format. Please enter a valid email or phone number."),this.selectedUser=null):this.selectedUser=null}toggleSignup(){this.showSignup=!this.showSignup}onClearSearch(){this.searchQuery="",this.selectedUser=null,this.employeeService.clearSelectedUser()}isEmail(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}isPhone(n){return/^[0-9]{10,15}$/.test(n)}}return(o=r).\u0275fac=function(n){return new(n||o)(e.rXU(F.O),e.rXU(h.u))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-points"]],decls:5,vars:4,consts:[["aria-labelledby","points-heading",1,"points-container"],["class","search-bar",4,"ngIf"],["class","new-user-btn",3,"click",4,"ngIf"],["class","user-info",4,"ngIf"],["class","signup-form",4,"ngIf"],[1,"search-bar"],["type","text","placeholder","Search user by email or phone",3,"ngModelChange","keyup.enter","ngModel"],[3,"click"],["class","clear-button",3,"click",4,"ngIf"],[1,"clear-button",3,"click"],[1,"new-user-btn",3,"click"],[1,"user-info"],[1,"user-header"],[1,"user-details"],[1,"user-row"],[1,"points-value"],["aria-label","Progress towards next reward",1,"progress-bar-container"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],["aria-label","Reward milestones",1,"progress-steps"],[4,"ngFor","ngForOf"],[1,"signup-form"],[3,"isCustomer"]],template:function(n,t){1&n&&(e.j41(0,"div",0),e.DNE(1,k,5,2,"div",1)(2,E,2,1,"button",2)(3,R,48,20,"div",3)(4,j,2,1,"div",4),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngIf","employee"===(null==t.loggedInUser?null:t.loggedInUser.role)||"admin"===(null==t.loggedInUser?null:t.loggedInUser.role)),e.R7$(),e.Y8G("ngIf",!t.selectedUser&&("employee"===(null==t.loggedInUser?null:t.loggedInUser.role)||"admin"===(null==t.loggedInUser?null:t.loggedInUser.role))),e.R7$(),e.Y8G("ngIf",t.selectedUser),e.R7$(),e.Y8G("ngIf",t.showSignup))},dependencies:[p.Sq,p.bT,g.me,g.BC,g.vS,y.d,p.vh],styles:['@charset "UTF-8";.points-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%;padding:20px;overflow-y:auto}.points-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#333}.points-container[_ngcontent-%COMP%]   .points-value[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   .reward-header[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--ion-color-primary)}.points-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{width:100%;height:12px;background:#ddd;border-radius:6px;margin:20px 0;overflow:hidden}.points-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background:var(--ion-color-primary);transition:width .5s ease-in-out}.points-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   .membership-details[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   .instructions-container[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   .reward-item[_ngcontent-%COMP%]{max-width:100%;padding:20px;border-radius:10px;background:#fff;box-shadow:0 4px 8px #0000001a;text-align:center}.points-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;gap:10px;max-width:400px;margin-bottom:20px}.points-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;font-size:1rem;border-radius:5px;outline:none}.points-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;border:1px solid #ccc;background:#fff;color:#333}.points-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-weight:700;background:var(--ion-color-primary, #007bff);color:#fff;cursor:pointer;transition:.3s}.points-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--ion-color-primary-tint, #0056b3)}.points-container[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;border:none;padding:10px 15px;border-radius:5px;cursor:pointer;transition:.3s}.points-container[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]{background:#dc3545;color:#fff}.points-container[_ngcontent-%COMP%]   .clear-button[_ngcontent-%COMP%]:hover{background:#c82333}.points-container[_ngcontent-%COMP%]   .new-user-btn[_ngcontent-%COMP%]{width:100%;background:var(--ion-color-primary);color:#fff}.points-container[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;text-align:left}.points-container[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:1rem;padding:8px;border-radius:5px}.points-container[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-row[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.points-container[_ngcontent-%COMP%]   .reward-list[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]{list-style:none;padding:0;text-align:left}.points-container[_ngcontent-%COMP%]   .reward-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.9rem;color:#666;padding-left:20px;position:relative;margin-bottom:5px}.points-container[_ngcontent-%COMP%]   .reward-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before, .points-container[_ngcontent-%COMP%]   .benefits-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2714";position:absolute;left:0;color:var(--ion-color-primary)}.points-container[_ngcontent-%COMP%]   .signup-form[_ngcontent-%COMP%], .points-container[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{margin:auto;border-radius:8px}']}),r})();var f=d(467),S=d(9216),O=d(7423);const G=["liveRegion"];function T(o,r){if(1&o&&(e.j41(0,"div",15),e.nrm(1,"ion-icon",16),e.j41(2,"div")(3,"p",17),e.EFF(4),e.k0s(),e.j41(5,"p",2),e.EFF(6),e.k0s()()()),2&o){const i=r.$implicit;e.R7$(),e.Y8G("name",i.icon),e.R7$(3),e.JRh(i.label),e.R7$(2),e.JRh(i.value)}}function $(o,r){if(1&o){const i=e.RV6();e.j41(0,"div",9)(1,"label",18),e.EFF(2),e.k0s(),e.j41(3,"ion-toggle",19),e.mxI("ngModelChange",function(t){const s=e.eBV(i).$implicit;return e.DH7(s.value,t)||(s.value=t),e.Njj(t)}),e.bIt("ionChange",function(){const t=e.eBV(i).$implicit;return e.Njj(t.action(t.value))}),e.k0s()()}if(2&o){const i=r.$implicit;e.R7$(),e.Y8G("for",i.id),e.R7$(),e.JRh(i.label),e.R7$(),e.Y8G("id",i.id),e.R50("ngModel",i.value),e.BMQ("aria-checked",i.value)("aria-label",i.label)}}let A=(()=>{var o;class r{constructor(n,t,s,c){this.authService=n,this.settingsService=t,this.accessibilityService=s,this.alertController=c,this.allowNotifications=!1,this.darkModeEnabled=!1,this.userInfo=[],this.settings=[]}ngOnInit(){this.user&&(this.userInfo=[{icon:"person-outline",label:"Name",value:`${this.user.fname} ${this.user.lname}`},{icon:"mail-outline",label:"Email",value:this.user.email},{icon:"call-outline",label:"Phone",value:this.user.phone},{icon:"trophy-outline",label:"Points",value:this.user.points},{icon:"build-outline",label:"Role",value:"employee"===this.user.role?"budtender":this.user.role}],this.darkModeEnabled=this.settingsService.getDarkModeEnabled(),this.settings=[{id:"darkMode",label:"Dark Mode",value:this.darkModeEnabled,action:n=>this.toggleDarkMode(n)}])}toggleDarkMode(n){this.darkModeEnabled=n,this.settingsService.setDarkModeEnabled(n),this.accessibilityService.announce("Dark mode has been "+(n?"enabled":"disabled"))}logout(){var n=this;return(0,f.A)(function*(){yield(yield n.alertController.create({header:"Confirm Logout",message:"Are you sure you want to log out?",buttons:[{text:"Cancel",role:"cancel",handler:()=>{n.accessibilityService.announce("Log out canceled")}},{text:"Log Out",role:"destructive",handler:()=>{n.authService.logout(),n.accessibilityService.announce("You have been logged out")}}]})).present()})()}}return(o=r).\u0275fac=function(n){return new(n||o)(e.rXU(h.u),e.rXU(S.h),e.rXU(O.s),e.rXU(l.hG))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-account"]],viewQuery:function(n,t){if(1&n&&e.GBs(G,5),2&n){let s;e.mGM(s=e.lsd())&&(t.liveRegion=s.first)}},inputs:{user:"user"},decls:46,vars:3,consts:[[1,"account-container"],[1,"header"],["tabindex","0"],["aria-labelledby","user-info-header",1,"card","user-info"],["id","user-info-header",1,"sr-only"],["class","info-item",4,"ngFor","ngForOf"],["aria-labelledby","settings-header",1,"card","settings"],["id","settings-header"],["class","setting-item",4,"ngFor","ngForOf"],[1,"setting-item"],["aria-label","Log out of your account",1,"action-button",3,"click"],["role","alert",1,"cannabis-disclaimer"],["href","tel:18002221222"],["href","https://oasas.ny.gov/HOPELine","target","_blank"],["href","tel:18778846739"],[1,"info-item"],["aria-hidden","true",3,"name"],["tabindex","0",1,"label"],[3,"for"],["role","switch",3,"ngModelChange","ionChange","id","ngModel"]],template:function(n,t){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3),e.k0s()(),e.j41(4,"div",3)(5,"h2",4),e.EFF(6,"User Information"),e.k0s(),e.DNE(7,T,7,3,"div",5),e.k0s(),e.j41(8,"div",6)(9,"h2",7),e.EFF(10,"Settings"),e.k0s(),e.DNE(11,$,4,6,"div",8),e.j41(12,"div",9)(13,"ion-button",10),e.bIt("click",function(){return t.logout()}),e.EFF(14," Log Out "),e.k0s()()()(),e.j41(15,"div",11)(16,"p")(17,"strong"),e.EFF(18,"OCM-CAURD-24-000101"),e.k0s()(),e.j41(19,"p"),e.EFF(20,"For use only by adults 21 years of age and older. Keep out of reach of children and pets."),e.k0s(),e.j41(21,"p"),e.EFF(22,"In case of accidental ingestion or overconsumption, contact the "),e.j41(23,"strong"),e.EFF(24,"National Poison Control Center"),e.k0s(),e.EFF(25," hotline at "),e.j41(26,"a",12),e.EFF(27,"1-800-222-1222"),e.k0s(),e.EFF(28," or call "),e.j41(29,"strong"),e.EFF(30,"9-1-1"),e.k0s(),e.EFF(31,". Please consume responsibly."),e.k0s(),e.j41(32,"p")(33,"strong"),e.EFF(34,"Cannabis is not recommended for use by persons who are pregnant or nursing."),e.k0s()(),e.j41(35,"p"),e.EFF(36,"Concerned about your cannabis use? "),e.j41(37,"a",13),e.EFF(38,"Visit HOPELine"),e.k0s(),e.EFF(39,", text "),e.j41(40,"strong"),e.EFF(41,"HOPENY"),e.k0s(),e.EFF(42,", or call "),e.j41(43,"a",14),e.EFF(44,"1-877-8-HOPENY"),e.k0s(),e.EFF(45,"."),e.k0s()()),2&n&&(e.R7$(3),e.SpI("",t.user.fname,"'s Account"),e.R7$(4),e.Y8G("ngForOf",t.userInfo),e.R7$(4),e.Y8G("ngForOf",t.settings))},dependencies:[p.Sq,g.BC,g.vS,l.Jm,l.iq,l.BY,l.hB],styles:[".account-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100%;padding:0 20px}.account-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px}.account-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:var(--ion-color-dark)}.account-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:10px;box-shadow:0 4px 10px #0000001a;padding:20px;margin-bottom:20px}.account-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px}.account-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.account-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.6rem;color:var(--ion-color-primary);margin-right:15px}.account-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:700;color:#888;margin:0}.account-container[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#333;margin:0}.account-container[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#2a2a2a;margin-bottom:15px}.account-container[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #f0f0f0}.account-container[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.account-container[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;color:#555}.account-container[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{--handle-background: var(--ion-color-primary);--background-checked: rgba(76, 175, 80, .2);--background: #ddd}.account-container[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{text-transform:capitalize;width:100%}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.cannabis-disclaimer[_ngcontent-%COMP%]{margin:20px auto auto;background:#ffeb3b;padding:15px;border-radius:8px;font-size:.9rem;text-align:center;box-shadow:0 4px 10px #00000026;max-width:90%}.cannabis-disclaimer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:transparent;color:#000;margin:5px 0;line-height:1.5}.cannabis-disclaimer[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#d32f2f;background-color:transparent}.cannabis-disclaimer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007aff;background-color:transparent;text-decoration:none;font-weight:700}.cannabis-disclaimer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),r})(),D=(()=>{var o;class r{constructor(n){this.accessibilityService=n,this.reviewComment="",this.googleReviewUrl="https://search.google.com/local/writereview?placeid=ChIJaewyJiZZwokRRTvQ3pXjVZk"}leaveReview(){window.open(this.googleReviewUrl,"_blank")?this.accessibilityService.announce("Google Reviews opened in a new tab.","polite"):this.accessibilityService.announce("Failed to open Google Reviews. Please check your browser settings.","assertive")}}return(o=r).\u0275fac=function(n){return new(n||o)(e.rXU(O.s))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-review"]],decls:9,vars:0,consts:[[1,"review-container"],[1,"header"],["id","leave-review-heading"],["id","leave-review-description"],[1,"input-container"],["expand","block","color","primary","aria-labelledby","leave-review-heading leave-review-description","aria-label","Go to Google Reviews to leave feedback",1,"submit-btn",3,"click"]],template:function(n,t){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Leave a Review"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"Your feedback helps us grow! Share your experience on Google."),e.k0s()(),e.j41(6,"div",4)(7,"ion-button",5),e.bIt("click",function(){return t.leaveReview()}),e.EFF(8," Go to Google Reviews "),e.k0s()()())},dependencies:[l.Jm],styles:[".review-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100%;text-align:center;padding:20px;overflow-y:auto}.review-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px}.review-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#333}.review-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:10px}.review-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{width:100%;max-width:400px;display:flex;flex-direction:column;gap:20px}.review-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;padding:12px;border-radius:6px;--background: #4caf50;--background-hover: darken(#4caf50, 10%)}"]}),r})();const N=()=>({mode:"register"});let B=(()=>{var o;class r{constructor(){}}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275cmp=e.VBU({type:o,selectors:[["app-guest"]],decls:39,vars:2,consts:[[1,"guest-container"],[1,"guest-header"],["expand","block","routerLink","/auth","aria-label","Sign up for our free rewards program",3,"queryParams"],["aria-live","polite",1,"rewards-details"],[1,"reward-item"],["name","card-outline","aria-hidden","true"],[1,"reward-header"],[1,"reward-list"],["name","medal-outline"]],template:function(n,t){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1"),e.EFF(3,"Join Our Rewards Program!"),e.k0s(),e.j41(4,"p"),e.EFF(5," Sign up for free or upgrade to our exclusive Membership for even more perks! "),e.k0s()(),e.j41(6,"ion-button",2),e.EFF(7,"Sign Up for Free"),e.k0s(),e.j41(8,"div",3)(9,"div",4),e.nrm(10,"ion-icon",5),e.j41(11,"div",6),e.EFF(12,"Free to join"),e.k0s(),e.j41(13,"h3"),e.EFF(14,"Free Rewards Program"),e.k0s(),e.j41(15,"ul",7)(16,"li"),e.EFF(17,"Earn 1 point for every $1 spent (pre-tax)"),e.k0s(),e.j41(18,"li"),e.EFF(19,"Redeem any amount of points on all purchases"),e.k0s(),e.j41(20,"li"),e.EFF(21," Be the first to know about new products, premiere bundles, and signature events. "),e.k0s()()(),e.j41(22,"div",4),e.nrm(23,"ion-icon",8),e.j41(24,"div",6),e.EFF(25,"$99 Annual fee (sign up in-store)"),e.k0s(),e.j41(26,"h3"),e.EFF(27,"Platinum Tier"),e.k0s(),e.j41(28,"ul",7)(29,"li"),e.EFF(30,"200 bonus points upon joining"),e.k0s(),e.j41(31,"li"),e.EFF(32,"10% off all in-store purchases of $100+ (pre-tax)"),e.k0s(),e.j41(33,"li"),e.EFF(34,"Choose any item on the menu for 50% off once every quarter"),e.k0s(),e.j41(35,"li"),e.EFF(36,"Access to exclusive Flower Power promotions and events"),e.k0s(),e.j41(37,"li"),e.EFF(38,"Be the first to know about new product drops and restocks on your favorites"),e.k0s()()()()()),2&n&&(e.R7$(6),e.Y8G("queryParams",e.lJ4(1,N)))},dependencies:[l.Jm,l.iq,l.N7,u.Wk],styles:['@charset "UTF-8";.guest-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:16px;background:#f7f8fa;text-align:center;height:auto}.guest-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.6rem;font-weight:700;color:#333;margin-bottom:10px}.guest-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#666;line-height:1.4;margin:0 16px 16px}ion-button[_ngcontent-%COMP%]{width:100%;max-width:280px;font-size:1rem;font-weight:600;margin-bottom:16px;--background: var(--ion-color-primary);--background-hover: var(--ion-color-primary-tint);--border-radius: 8px;--box-shadow: 0px 4px 8px rgba(0, 0, 0, .1)}.rewards-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;width:100%}.reward-item[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:10px;box-shadow:0 2px 6px #0000001a;text-align:center}.reward-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 10px #00000026;transform:translateY(-2px);transition:box-shadow .3s ease,transform .3s ease}ion-icon[_ngcontent-%COMP%]{font-size:2.4rem;color:var(--ion-color-primary);margin-bottom:8px}.reward-header[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-bottom:8px;font-weight:500}h3[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333;margin-bottom:12px}.reward-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;text-align:left}.reward-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;font-size:.9rem;color:#666;padding-left:25px;margin-bottom:8px;line-height:1.4}.reward-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:0;top:0;color:var(--ion-color-primary);font-size:1.2rem}@media screen and (min-width: 768px){.guest-container[_ngcontent-%COMP%]{padding:24px}.guest-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.guest-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}ion-button[_ngcontent-%COMP%]{max-width:320px;font-size:1.1rem}.rewards-details[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;gap:20px}.reward-item[_ngcontent-%COMP%]{flex:1;max-width:45%}}']}),r})();var Y=d(9564),X=d(3656);function z(o,r){if(1&o&&(e.j41(0,"ion-select-option",25),e.EFF(1),e.k0s()),2&o){const i=r.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i," ")}}function V(o,r){if(1&o&&(e.j41(0,"p",26),e.EFF(1),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.JRh(i.selectedFileName)}}function L(o,r){if(1&o&&(e.j41(0,"div",27),e.nrm(1,"img",28),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("src",i.imageUrl,e.B4B)}}function J(o,r){if(1&o){const i=e.RV6();e.j41(0,"div",29),e.bIt("click",function(){const t=e.eBV(i).index,s=e.XpG();return e.Njj(s.toggleDropdown(t))}),e.nrm(1,"img",30),e.j41(2,"p"),e.EFF(3),e.k0s()()}if(2&o){const i=r.$implicit,n=r.index;e.R7$(),e.Y8G("src",i,e.B4B),e.R7$(2),e.SpI("Carousel ",n+1,"")}}function Q(o,r){if(1&o&&(e.j41(0,"div",27)(1,"p"),e.EFF(2,"Uploaded Image:"),e.k0s(),e.nrm(3,"img",37),e.k0s()),2&o){const i=e.XpG(2).index,n=e.XpG();e.R7$(3),e.Y8G("src",n.uploadedImagePreviewUrl[i],e.B4B)}}function H(o,r){if(1&o&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&o){const i=e.XpG(3);e.R7$(),e.JRh(i.selectedFileName)}}function W(o,r){if(1&o){const i=e.RV6();e.j41(0,"div",32)(1,"div",27)(2,"p"),e.EFF(3,"Original Image:"),e.k0s(),e.nrm(4,"img",33),e.k0s(),e.DNE(5,Q,4,1,"div",17),e.j41(6,"input",34),e.bIt("change",function(t){e.eBV(i);const s=e.XpG().index,c=e.XpG();return e.Njj(c.onImageFileSelected(t,s))}),e.k0s(),e.DNE(7,H,2,1,"p",35),e.j41(8,"ion-button",36),e.bIt("click",function(){e.eBV(i);const t=e.XpG().index,s=e.XpG();return e.Njj(s.replaceImage(t))}),e.EFF(9,"Replace Image"),e.k0s()()}if(2&o){const i=e.XpG().index,n=e.XpG();e.R7$(4),e.Y8G("src",n.carouselImages[i],e.B4B),e.R7$(),e.Y8G("ngIf",n.selectedIndex===i),e.R7$(2),e.Y8G("ngIf",n.selectedFileName),e.R7$(),e.Y8G("disabled",!n.selectedImageFile[i])}}function Z(o,r){if(1&o&&(e.j41(0,"div"),e.DNE(1,W,10,4,"div",31),e.k0s()),2&o){const i=r.index,n=e.XpG();e.R7$(),e.Y8G("ngIf",n.expandedIndex===i)}}let K=(()=>{var o;class r{constructor(n,t,s){this.adminService=n,this.platform=t,this.toastController=s,this.searchPerformed=!1,this.data=[],this.selectedItem=null,this.selectedFilter="users",this.tableColumns=[],this.startDate="",this.endDate="",this.title="",this.body="",this.imageUrl="",this.selectedFileName=null,this.slideOpts={slidesPerView:1,spaceBetween:10,centeredSlides:!0,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1}},this.carouselImages=[],this.expandedIndex=null,this.selectedIndex=null,this.selectedImageFile=[],this.selectedImageFileName=[],this.uploadedImagePreviewUrl=[],this.selectedCategory="",this.categories=["PREROLL","EDIBLE","FLOWER","CONCENTRATES","BEVERAGE","TINCTURES","ACCESSORIES"],this.deliveryAvailable=!1}ngOnInit(){this.loadCarouselImages(),this.getDeliveryEligibility()}getDeliveryEligibility(){this.adminService.checkDeliveryEligibility().subscribe(n=>{this.deliveryAvailable=n.deliveryAvailable},n=>{console.error("Error fetching delivery eligibility",n)})}onToggleDelivery(n){this.adminService.toggleDelivery().subscribe(t=>{this.deliveryAvailable=t.deliveryAvailable},t=>{console.error("Error toggling delivery",t)})}loadCarouselImages(){this.adminService.getCarouselImages().subscribe(n=>{this.carouselImages=n.images.map(t=>`${t}?v=${(new Date).getTime()}`)})}toggleDropdown(n){this.expandedIndex=this.expandedIndex===n?null:n}onImageFileSelected(n,t){const s=n.target.files[0];if(s){this.selectedImageFile[t]=s,this.selectedImageFileName[t]=s.name;const c=new FileReader;c.onload=()=>{this.uploadedImagePreviewUrl[t]=c.result},c.readAsDataURL(s),this.selectedIndex=t}}replaceImage(n){this.selectedImageFile[n]&&this.adminService.replaceCarouselImage(this.selectedImageFile[n],n).subscribe(t=>{t.imageUrl&&(this.carouselImages[n]=`${t.imageUrl}?v=${(new Date).getTime()}`),this.selectedImageFile[n]=void 0,this.selectedImageFileName[n]=void 0,this.uploadedImagePreviewUrl[n]=void 0,this.selectedIndex=null})}fetchData(){this.searchPerformed=!0,this.adminService.getUserData().subscribe(n=>{this.exportToCSV(n)},n=>{console.error("Error fetching admin data:",n)})}fetchOrdersByEmployees(){this.searchPerformed=!0,this.adminService.getOrdersByEmployeesData().subscribe(n=>{this.exportToCSV(n)},n=>{console.error("Error fetching orders by employees:",n)})}fetchOrders(){this.searchPerformed=!0,this.adminService.getOrdersData().subscribe(n=>{this.exportToCSV(n)},n=>{console.error("Error fetching orders by employees:",n)})}exportToCSV(n){var t=this;return(0,f.A)(function*(){if(0===n.length)return void console.warn("No data to export");let s=[],c=[];if(void 0!==n[0].id&&void 0!==n[0].email&&void 0!==n[0].role)s=["User ID","First Name","Last Name","Email","DOB","Country","Phone","Points","Account Created","Customer ID","Role"],c=n.map(a=>[a.id,a.fname,a.lname,a.email,a.dob,a.country,a.phone,a.points,a.createdAt,a.alleaves_customer_id,a.role]);else if(void 0!==n[0].Employee)s=["Employee ID","Employee Name","Employee Email","Employee Role","Order ID","POS Order ID","Points Added","Points Redeemed","Order Complete","Points Awarded","Points Locked","Total Amount","Order Created At"],c=n.map(a=>{var m,_,C,b,v;return[(null===(m=a.Employee)||void 0===m?void 0:m.id)||"",`${(null===(_=a.Employee)||void 0===_?void 0:_.fname)||""} ${(null===(C=a.Employee)||void 0===C?void 0:C.lname)||""}`,(null===(b=a.Employee)||void 0===b?void 0:b.email)||"",(null===(v=a.Employee)||void 0===v?void 0:v.role)||"",a.id,a.pos_order_id,a.points_add,a.points_redeem,a.complete?"Yes":"No",a.points_awarded?"Yes":"No",a.points_locked,a.total_amount,a.createdAt]});else{if(void 0===n[0].user_id||void 0===n[0].pos_order_id)return void console.warn("Unknown data structure, cannot export.");s=["Order ID","User ID","POS Order ID","Points Added","Points Redeemed","Order Complete","Points Awarded","Points Locked","Total Amount","Order Created At"],c=n.map(a=>[a.id,a.user_id,a.pos_order_id,a.points_add,a.points_redeem,a.complete?"Yes":"No",a.points_awarded?"Yes":"No",a.points_locked,a.total_amount,a.createdAt])}const se=[s.join(","),...c.map(a=>a.map(m=>`"${m}"`).join(","))].join("\n");t.adminService.sendCsvEmail(se).subscribe({next:a=>console.log("Email Sent:",a.message),error:a=>console.error("Error sending CSV:",a)})})()}presentToast(n,t="danger"){var s=this;return(0,f.A)(function*(){yield(yield s.toastController.create({message:n,duration:5e3,color:t,position:"bottom"})).present()})()}clearNotificationForm(){this.title="",this.body="",this.imageUrl="",this.selectedFileName=null;const n=document.getElementById("fileInput");n&&(n.value="")}clearDates(){this.startDate="",this.endDate=""}clearQuery(){this.searchPerformed=!1,this.data=[],this.selectedItem=null,this.startDate="",this.endDate="",this.tableColumns=[]}openDetail(n){this.selectedItem=n}closeDetail(){this.selectedItem=null}triggerFileInput(){const n=document.getElementById("fileInput");n&&n.click()}onFileSelected(n){const t=n.target.files[0];console.log(t),t&&this.adminService.uploadImage(t).subscribe({next:s=>{this.imageUrl=s.imageUrl,console.log("Image uploaded, public URL:",this.imageUrl)},error:s=>{console.error("Error uploading image:",s)}})}sendNotification(){this.title&&this.body?this.selectedCategory?this.adminService.sendPushNotificationToCategory(this.title,this.body,this.selectedCategory,this.imageUrl).subscribe({next:n=>{console.log("Category notification sent:",n)},error:n=>{console.error("Error sending category notification:",n)}}):this.adminService.sendPushNotificationToAll(this.title,this.body,this.imageUrl).subscribe({next:n=>{console.log("Notification sent:",n)},error:n=>{console.error("Error sending notification:",n)}}):console.error("Title and body are required!")}}return(o=r).\u0275fac=function(n){return new(n||o)(e.rXU(Y.z),e.rXU(X.OD),e.rXU(l.K_))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-admin"]],decls:55,vars:9,consts:[[1,"admin-container"],[1,"header"],["tabindex","0"],["slot","end",3,"ionChange","checked"],[1,"notification-container"],[1,"input-group"],[1,"input-label"],["position","floating"],["color","primary",3,"ngModelChange","ngModel"],["placeholder","Select a category",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["lines","none",1,"file-upload-container"],[1,"file-upload-label"],[1,"file-upload-wrapper"],["type","file","id","fileInput","accept","image/*","hidden","",3,"change"],["expand","block",3,"click"],["class","file-name",4,"ngIf"],["class","image-preview-container",4,"ngIf"],[1,"button-group"],["expand","block","color","primary",3,"click"],["expand","block","color","medium",3,"click"],[1,"upload-container"],[1,"image-grid"],["class","image-card",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"value"],[1,"file-name"],[1,"image-preview-container"],["alt","Preview",1,"image-preview",3,"src"],[1,"image-card",3,"click"],[1,"carousel-thumbnail",3,"src"],["class","expandable-content",4,"ngIf"],[1,"expandable-content"],[1,"preview-image","original",3,"src"],["type","file","accept","image/*",3,"change"],[4,"ngIf"],[3,"click","disabled"],[1,"preview-image","uploaded",3,"src"]],template:function(n,t){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Admin Tools"),e.k0s()(),e.j41(4,"ion-item")(5,"ion-label"),e.EFF(6,"Delivery"),e.k0s(),e.j41(7,"ion-toggle",3),e.bIt("ionChange",function(c){return t.onToggleDelivery(c)}),e.k0s()(),e.j41(8,"div",4)(9,"div",1)(10,"h1",2),e.EFF(11,"Notification Center"),e.k0s()(),e.j41(12,"div",5)(13,"label",6),e.EFF(14,"Notification Title"),e.k0s(),e.j41(15,"ion-item")(16,"ion-label",7),e.EFF(17,"Title"),e.k0s(),e.j41(18,"ion-input",8),e.mxI("ngModelChange",function(c){return e.DH7(t.title,c)||(t.title=c),c}),e.k0s()()(),e.j41(19,"div",5)(20,"label",6),e.EFF(21,"Notification Body"),e.k0s(),e.j41(22,"ion-item")(23,"ion-label",7),e.EFF(24,"Body"),e.k0s(),e.j41(25,"ion-textarea",8),e.mxI("ngModelChange",function(c){return e.DH7(t.body,c)||(t.body=c),c}),e.k0s()()(),e.j41(26,"div",5)(27,"label",6),e.EFF(28,"Select Category (Optional)"),e.k0s(),e.j41(29,"ion-item")(30,"ion-label",7),e.EFF(31,"Category"),e.k0s(),e.j41(32,"ion-select",9),e.mxI("ngModelChange",function(c){return e.DH7(t.selectedCategory,c)||(t.selectedCategory=c),c}),e.DNE(33,z,2,2,"ion-select-option",10),e.k0s()()(),e.j41(34,"ion-item",11)(35,"ion-label",12),e.EFF(36,"Upload Image"),e.k0s(),e.j41(37,"div",13)(38,"input",14),e.bIt("change",function(c){return t.onFileSelected(c)}),e.k0s(),e.j41(39,"ion-button",15),e.bIt("click",function(){return t.triggerFileInput()}),e.EFF(40,"Choose File"),e.k0s()(),e.DNE(41,V,2,1,"p",16),e.k0s(),e.DNE(42,L,2,1,"div",17),e.j41(43,"div",18)(44,"ion-button",19),e.bIt("click",function(){return t.sendNotification()}),e.EFF(45,"Send Notification"),e.k0s(),e.j41(46,"ion-button",20),e.bIt("click",function(){return t.clearNotificationForm()}),e.EFF(47,"Clear Notification"),e.k0s()()(),e.j41(48,"div",21)(49,"div",1)(50,"h1",2),e.EFF(51,"Banner Controller"),e.k0s()(),e.j41(52,"div",22),e.DNE(53,J,4,2,"div",23),e.k0s(),e.DNE(54,Z,2,1,"div",24),e.k0s()()),2&n&&(e.R7$(7),e.Y8G("checked",t.deliveryAvailable),e.R7$(11),e.R50("ngModel",t.title),e.R7$(7),e.R50("ngModel",t.body),e.R7$(7),e.R50("ngModel",t.selectedCategory),e.R7$(),e.Y8G("ngForOf",t.categories),e.R7$(8),e.Y8G("ngIf",t.selectedFileName),e.R7$(),e.Y8G("ngIf",t.imageUrl),e.R7$(11),e.Y8G("ngForOf",t.carouselImages),e.R7$(),e.Y8G("ngForOf",t.carouselImages))},dependencies:[p.Sq,p.bT,g.BC,g.vS,l.Jm,l.$w,l.uz,l.he,l.Nm,l.Ip,l.nc,l.BY,l.hB,l.Je,l.Gw],styles:[".admin-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden;padding:20px;text-align:center}.admin-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:20px}.admin-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700}.filter-section[_ngcontent-%COMP%], .date-picker-section[_ngcontent-%COMP%], .button-group[_ngcontent-%COMP%]{flex-shrink:0;padding-bottom:10px}.table-container[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto;max-height:calc(100vh - 200px)}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:#333;color:#fff;border-radius:8px;border:1px solid #ddd}thead[_ngcontent-%COMP%]{background:var(--ion-color-primary, #007bff);color:#fff;position:sticky;top:0;z-index:2}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px;text-align:left;border-bottom:1px solid #ddd}tr[_ngcontent-%COMP%]:hover{background:#007bff1a;cursor:pointer}.no-data[_ngcontent-%COMP%]{text-align:center;color:#777;margin-top:20px}.modal-content[_ngcontent-%COMP%]{padding:20px;text-align:center;border-radius:10px}.date-picker-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:12px;border-radius:8px}  .sc-ion-input-md-h .input-highlight{background-color:var(--ion-color-primary)!important;border-bottom:2px solid var(--ion-color-primary)!important}.notification-container[_ngcontent-%COMP%]{padding:20px}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem}ion-card[_ngcontent-%COMP%]{box-shadow:0 4px 10px #0000001a;border-radius:12px}ion-item[_ngcontent-%COMP%]{margin-bottom:10px}.file-upload-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:15px}.file-upload-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.file-upload-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-top:10px}.file-name[_ngcontent-%COMP%]{font-size:.85rem;margin-top:5px;text-align:center;font-style:italic}.image-preview-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10px}.image-preview[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;object-fit:cover;border:2px solid #ddd}  .has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--ion-color-primary)}  .has-focus.sc-ion-textarea-md-h textarea.sc-ion-textarea-md{caret-color:var(--ion-color-primary)}.carousel-container[_ngcontent-%COMP%]{width:100%;height:auto}ion-slides[_ngcontent-%COMP%]{width:100%;height:300px}.upload-container[_ngcontent-%COMP%]{margin-top:15px;text-align:center}.image-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:10px;justify-content:center}.image-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:8px;padding:10px;text-align:center;cursor:pointer;transition:transform .2s ease-in-out}.image-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.preview-image[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:5px}.carousel-thumbnail[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:5px;margin-bottom:5px}ion-button[_ngcontent-%COMP%]{margin-top:10px}@media screen and (max-width: 1024px){.image-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media screen and (max-width: 768px){.image-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media screen and (max-width: 480px){.image-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}"]}),r})();function q(o,r){1&o&&(e.qex(0),e.nrm(1,"app-admin"),e.bVm())}function ee(o,r){if(1&o&&(e.j41(0,"div",3)(1,"h1",4),e.EFF(2,"User Dashboard"),e.k0s(),e.nrm(3,"app-points")(4,"app-banner-carousel",5),e.DNE(5,q,2,0,"ng-container",6),e.nrm(6,"app-account",7)(7,"app-review",8),e.k0s()),2&o){const i=e.XpG();e.R7$(3),e.BMQ("aria-label","You have "+i.user.points+" points. "+i.user.premium?"You are an exclusive member.":0),e.R7$(2),e.Y8G("ngIf",i.isAdmin),e.R7$(),e.Y8G("user",i.user),e.BMQ("aria-label","Account settings for "+i.user.name)}}function ne(o,r){1&o&&e.nrm(0,"app-guest",9)}const te=[{path:"",component:(()=>{var o;class r{constructor(n){this.authService=n,this.isLoggedIn=!1,this.isAdmin=!1,this.isGuest=!1}ngOnInit(){this.authService.isLoggedIn().subscribe(n=>{this.isLoggedIn=n,this.authService.guest$.subscribe(t=>{this.isGuest=t,console.log(t)}),this.authService.getUserInfo().subscribe(t=>{this.user=t,"admin"===this.user.role&&(this.isAdmin=!0)})})}ionViewDidEnter(){this.scrollToTop()}scrollToTop(){this.content?this.content.scrollToTop(300):console.warn("IonContent is not available.")}}return(o=r).\u0275fac=function(n){return new(n||o)(e.rXU(h.u))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-rewards"]],viewQuery:function(n,t){if(1&n&&e.GBs(l.W9,5),2&n){let s;e.mGM(s=e.lsd())&&(t.content=s.first)}},decls:5,vars:3,consts:[["guestContent",""],[3,"fullscreen"],["aria-labelledby","user-dashboard-heading",4,"ngIf","ngIfElse"],["aria-labelledby","user-dashboard-heading"],["id","user-dashboard-heading",1,"sr-only"],["aria-label","Promotional banners carousel"],[4,"ngIf"],[3,"user"],["aria-label","Leave a review"],["aria-label","Guest content. Please log in to access your dashboard."]],template:function(n,t){if(1&n&&(e.nrm(0,"app-header"),e.j41(1,"ion-content",1),e.DNE(2,ee,8,4,"div",2)(3,ne,1,0,"ng-template",null,0,e.C5r),e.k0s()),2&n){const s=e.sdS(4);e.R7$(),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("ngIf",t.isLoggedIn&&!t.isGuest)("ngIfElse",s)}},dependencies:[p.bT,l.W9,M.l,x.Y,U,A,D,B,K]}),r})()}];let oe=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[u.iI.forChild(te),u.iI]}),r})();var ie=d(3887);let re=(()=>{var o;class r{}return(o=r).\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[p.MD,g.YN,g.X1,l.bv,oe,ie.G]}),r})()}}]);